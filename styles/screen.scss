// Bright theme for Shower HTML presentation engine: github.com/shower/shower
// Copyright © 2010–2013 Vadim Makeev, pepelsbey.net
// Licensed under MIT license: github.com/shower/shower/wiki/MIT-License

@import 'defaults';
@import 'fonts';
@import 'reset';

body {
  counter-reset:slide;
  font:24px/2 'Open Sans', sans-serif;
  }
a {
  text-decoration:none;
  }

// Caption
// -------------------------------
.caption {
  display:none;
  margin:0 0 60px;
  padding:0 50px 0 0;
  color:#555;
  h1 {
    font:50px 'Open Sans Light', sans-serif;
    }
  a {
    color:$linkColor;
    &:hover {
      border-bottom:0.1em solid;
      }
    }
  }

// Badge
// -------------------------------
.badge {
  position:absolute;
  top:0;
  right:0;
  display:none;
  overflow:hidden;
  visibility:hidden;
  width:11em;
  height:11em;
  line-height:2.5;
  font-size:15px;
  }
  .badge a {
    position:absolute;
    bottom:50%;
    right:-50%;
    left:-50%;
    visibility:visible;
    background:$color;
    color:#FFF;
    text-align:center;
    -webkit-transform-origin:50% 100%;
    transform-origin:50% 100%;
    -webkit-transform:rotate(45deg) translateY(-1em);
    transform:rotate(45deg) translateY(-1em);
    }

// Slide
// -------------------------------
.slide {
  position:relative;
  width:$width;
  height:$height;
  background:#FFF;
  color:#000;
  -webkit-print-color-adjust:exact;
  -webkit-text-size-adjust:none;
  -moz-text-size-adjust:none;
  -ms-text-size-adjust:none;
  // Number
  &:after {
    position:absolute;
    right:$right;
    bottom:15px;
    color:$color;
    counter-increment:slide;
    content:counter(slide) '/' attr(data-slides);
    line-height:1;
    font-size: 17px;
    }
  // Inner
  > div {
    position:absolute;
    top:0;
    left:0;
    overflow:hidden;
    padding:$top $right $bottom $left;
    width:$width - $left - $right;
    height:$height - $top - $bottom;
    }
  // Debug
  .debug & {
    background-image:url(../images/grid-#{$ratio}.svg);
    }
  }

// Elements
// -------------------------------
.slide {
  // Header
  h1 {
    position: absolute;
    top: $top;
    right: $right;
    margin:0 0 18px;
    font:28px/1 'Open Sans Light', sans-serif;
    text-transform: uppercase;
    color: lighten($color, 60%);
    }
  h2 {
    padding: $top $right 20px $left;
    margin: ($top * -1) ($right * -1) 38px ($left * -1);
    //border-bottom: 1px solid $borderColor;
    font:38px/1 'Open Sans Light', sans-serif;
    background-color: $color;
    color: white;
    }
  h3 {
    margin-bottom: 28px;
    font:28px/1 'Open Sans Light', sans-serif;
    }
  &.chapter {
    h2 {
      text-transform: uppercase;
    }
  }
  // Text
  p {
    margin:0 0 38px;
    }
  a {
    border-bottom:0.1em solid;
    color:$linkColor;
    }
  b, strong {
    font-weight:bold;
    }
  i, em {
    font-style:italic;
    }
  kbd, code, samp {
    padding:2px 7px;
    background:rgba(#000, 0.1);
    tab-size:4;
    line-height:1;
    font-family: 'Inconsolata', monospace, sans-serif;
    }
  .text-success, .text-green {
    color: $greenDark;
  }
  .text-alert, .text-red {
    color: $redDark;
  }
  .text-info, .text-blue {
    color: $blueDark;
  }
  .text-purple {
    color: $purpleDark;
  }
  .text-bluegreen {
    color: $bluegreenDark;
  }
  .text-orange {
    color: $orangeDark;
  }
  .highlight {
    padding-left: 5px;
    padding-right: 5px;
    color: #FFF;
    cursor: default;
  }
  .highlight-success, .highlight-green {
    @extend .highlight;
    background-color: $greenDark;
  }
  .highlight-alert, .highlight-red {
    @extend .highlight;
    background-color: $redDark;
  }
  .highlight-info, .highlight-blue {
    @extend .highlight;
    background-color: $blueDark;
  }
  .highlight-purple {
    @extend .highlight;
    background-color: $purpleDark;
  }
  .highlight-bluegreen {
    @extend .highlight;
    background-color: $bluegreenDark;
  }
  .highlight-orange {
    @extend .highlight;
    background-color: $orangeDark;
  }
  // Quote
  blockquote {
    font-style:italic;
    margin: 80px;
    &:before {
      position:absolute;
      margin:-50px 0 0 -70px;
      color:#DDD;
      content:'\201C';
      font: 200px/1 'PT Sans', sans-serif;
      line-height:1;
      font-size:200px;
      }
    p:last-child {
      margin:-38px 0 38px;
      font-style:italic;
      font-weight:bold;
      &:before {
        content: '';
        //width: 0px;
        position: relative;
        top: 0.75em;
        border-top: 2px solid $grayLight;
        color: $grayLight;
        padding-right: 20px;
        margin-right: 15px;
        }
      }
    }
  // Lists
  ol, ul {
    margin:0 0 38px;
    counter-reset:list;
    li {
      text-indent:-2em;
      &:before {
        display:inline-block;
        width:2em;
        color:$listItemColor;
        text-align:right;
        }
      }
    ol,
    ul {
      margin:0 0 0 2em;
      }
    }
  ul > li:before {
    content:'\2022\00A0\00A0\2009';
    }
  ul > li:lang(ru):before {
    content:'\2014\00A0\2009';
    }
  ol > li:before {
    counter-increment:list;
    content:counter(list)'.\00A0\2009';
    }
  dl {
    font: 23px/1.6 'Open Sans Light', sans-serif;
    margin: 0 0 38px;
    dt {
      font-weight: bold;
      float: left;
      width: 140px;
      clear: left;
      text-align: right;
      margin-right: 10px;
      }
    dd {
      margin-left: 160px;
      }
  }
  // Code
  pre {
    margin:0 -10px 20px;
    margin-left: ($left * -1);
    padding:3px 0 0;
    counter-reset:code;
    white-space:normal;
    font-size: 22px;
    code {
      display:block;
      position: relative;
      background-color: $colorCode;
      padding: 10px;
      padding-left: $left;
      white-space:pre-wrap;
      line-height:1.5;
      &:before {
        position:absolute;
        margin-left:-50px;
        color:$gray;
        counter-increment:code;
        content:counter(code, decimal-leading-zero)'.';
        }
      &:only-child:before {
        content:'';
        }
      &:after {
        content: 'code';
        color: white;
        background-color: $color;
        color: lighten($color, 60%);
        right: 0;
        top: 0;
        position: absolute;
        font-size: 16pt;
        padding: 2px 25px;
        text-transform: uppercase;
        }
      &[class]:after {
        content: attr(class);
        }
      }
    // Mark
    mark {
      background:none;
      color:$color;
      font-style:normal;
      &.important {
        padding:3px 7px 0;
        background:$color;
        color:#FFF;
        }
      &.comment {
        color:$gray;
        }
      }
    }
  // Table
  table {
    margin:0 0 50px;
    width:100%;
    border-collapse:collapse;
    border-spacing:0;
    th, td {
      padding:0px 10px;
      border-bottom:1px solid $color;
      }
    th {
      color:white;
      background-color:$color;
      text-align:left;
      }
    &.striped {
      tr:nth-child(even) {
        background:mix($color, #FFF, 8%);
        }
      }
    }
  // Figure
  figure {
    figcaption {
      font: 9px/1.5 'Open Sans', sans-serif;
      position: absolute;
      bottom: 15px;
      right: 0;
      padding: 2px 10px;
      padding-left: 19px;
      background: rgba(#000, 0.66);
      color: rgba(#FFF, 0.66);

      img.flickr {
        width: inherit;
        height: 15px;
        left: 3px;
        top:50%;
        width:inherit !important;
        z-index: 0 !important;

        }
      .license {
        $licenseSize: 12px;
        vertical-align: middle;
        margin-left: 2px;
        display: inline-block;
        height: 14px;
        width: 14px;
        background-size: $licenseSize;
        background-repeat: no-repeat;

        &.license-cc {
          background-image:url(../images/cc/cc.svg);
          &:hover {
            background-image:url(../images/cc/cc-white.svg);
            }
          }
        &.license-by {
          background-image:url(../images/cc/by.svg);
          }
        &.license-nc {
          background-image:url(../images/cc/nc.svg);
          }
        &.license-nd {
          background-image:url(../images/cc/nd.svg);
          }
        &.license-sa {
          background-image:url(../images/cc/sa.svg);
          }
        &.license-pd {
          background-image:url(../images/cc/pd.svg);
          }
        }
      a {
        margin-left: 3px;
        border: none;
        color: rgba(#FFF, 0.66);

        &:hover {
          color: #FFF;
          }
        }
      }
    }
  // Cover Shout
  &.cover,
  &.shout {
    z-index:1;
    &:after {
      content:'';
      border: none;
      }
    h1 {
      display: none;
      }
    h2 {
      //color: white;
      border: none;
      }
    footer {
      display: none;
      }
    }
  // Cover
  &.cover {
    background:#000;
    @mixin cover {
      img, svg, video,
      object, canvas, iframe {
        @content;
        }
      }
    @include cover {
      position:absolute;
      top:0;
      left:0;
      z-index:-1;
      }
    &.w {
      @include cover {
        top:50%;
        width:100%;
        -webkit-transform:translateY(-50%);
        transform:translateY(-50%);
        }
      }
    &.h {
      @include cover {
        left:50%;
        height:100%;
        -webkit-transform:translateX(-50%);
        transform:translateX(-50%);
        }
      }
    &.w.h {
      @include cover {
        top:0;
        left:0;
        -webkit-transform:none;
        transform:none;
        }
      }
    }
  // Shout
  &.shout {
    background:$color;
    h1 {
      visibility: hidden;
      }
    h2 {
      position:absolute;
      top:50%;
      left:128px;
      right:96px;
      color:#FFF;
      font-size:100px;
      -webkit-transform:translateY(-50%);
      transform:translateY(-50%);
      border-bottom: none;
      a {
        border-bottom:none;
        color:#FFF;
        }
      }
    }
  &.chapter {
    @extend .shout;
    @extend .up;
    @extend .cover;
    @extend .w;
    h2 {
      padding-top: 20px;
      padding-bottom: 20px;
      padding-left: 20px;
      margin-left: 130px;
      border-top-left-radius: 20px;
      border-bottom-left-radius: 20px;
      background-color: rgba($color, 0.8);
    }
  }
  &.section {
    @extend .cover;
    @extend .w;
    h2 {
      background-color: rgba($color, 0.8);
    }
  }
  // Place
  .place {
    position:absolute;
    top:50%;
    left:50%;
    -webkit-transform:translate(-50%, -50%);
    transform:translate(-50%, -50%);
    &.t.l, &.t.r, &.b.r, &.b.l {
      -webkit-transform:none;
      transform:none;
      }
    &.t, &.b {
      -webkit-transform:translate(-50%, 0);
      transform:translate(-50%, 0);
      }
    &.l, &.r {
      -webkit-transform:translate(0, -50%);
      transform:translate(0, -50%);
      }
    &.t, &.t.l, &.t.r {
      top:0;
      }
    &.r {
      right:0;
      left:auto;
      }
    &.b, &.b.r, &.b.l {
      top:auto;
      bottom:0;
      }
    &.l {
      left:0;
      }
    }
  //Boxes
  .box {
    color: white;
    margin-bottom: 28px;
    p {
      margin: 0;
      padding: 3px 10px;
      font-size: 18px;
      background-color: $grayLight;
      &:first-child {
        font-size: 20px;
        background-color: $grayDark;
        border-top-right-radius: 3px;
        border-top-left-radius: 3px;
      }
      &:last-child {
        border-bottom-right-radius: 3px;
        border-bottom-left-radius: 3px;
      }
    }
  }
  .box-bluegreen, .box-success {
    p {
      background-color: $bluegreenLight;
      &:first-child {
        background-color: $bluegreenDark;
      }
    }
  }
  .box-green, .box-example {
    p {
      background-color: $greenLight;
      &:first-child {
        background-color: $greenDark;
      }
    }
  }
  .box-red, .box-alert {
    p {
      background-color: $redLight;
      &:first-child {
        background-color: $redDark;
      }
    }
  }
  .box-blue, .box-info {
    p {
      background-color: $blueLight;
      &:first-child {
        background-color: $blueDark;
      }
    }
  }
  .box-purple {
    p {
      background-color: $purpleLight;
      &:first-child {
        background-color: $purpleDark;
      }
    }
  }
  .box-warning, .box-orange {
    p {
      background-color: $orangeLight;
      &:first-child {
        background-color: $orangeDark;
      }
    }
  }
  // Footer
  footer {
    position:absolute;
    left: 0;
    right:0;
    bottom: 10px;
    text-align: left;
    padding: 10px $right 10px $left;
    color:$gray;
    line-height:1;
    font-size: 17px;
    }
  }

// Screen
@media screen {
  // List
  .list {
    position:absolute;
    clip:rect(0, auto, auto, 0); // Having fun with IE10
    padding:50px 0 50px 50px;
    background:#E2E2E2 url(../images/mesh.png) 50% 0;
    text-align:center;
    @include retina {
      background-image:url(../images/mesh@2x.png);
      background-size:256px;
      }
    // Outfit
    .caption,
    .badge {
      display:block;
      }
    // Slide
    .slide {
      // Gap between slides
      $gap:50px;
      position:relative;
      top:$height/2 - $gap;
      display:inline-block;
      margin:($gap - $height/2) ($gap - $width/2) 0 0;
      text-align:left;
      -webkit-transform-origin:0 0;
      transform-origin:0 0;
      -webkit-transform:scale(0.5);
      transform:scale(0.5);
      @media (max-width:$break) {
        top:$height/2 + $height/4 - $gap;
        margin:($gap - ($height/2 + $height/4)) ($gap - ($width/2 + $width/4)) 0 0;
        -webkit-transform:scale(0.25);
        transform:scale(0.25);
        }
      // Frame
      &:before {
        position:absolute;
        top:0;
        left:0;
        z-index:-1;
        width:$width/2;
        height:$height/2;
        box-shadow:0 0 0 1px #DDD;
        content:'';
        -webkit-transform-origin:0 0;
        transform-origin:0 0;
        -webkit-transform:scale(2);
        transform:scale(2);
        @media (max-width:$break) {
          width:$width/4;
          height:$height/4;
          -webkit-transform:scale(4);
          transform:scale(4);
          }
        }
      // Number
      &:after {
        top:100%;
        bottom:auto;
        padding-top:50px;
        @media (max-width:$break) {
          width:$width/2;
          -webkit-transform-origin:0 0;
          transform-origin:0 0;
          -webkit-transform:scale(2);
          transform:scale(2);
          }
        }
      // Hover
      &:hover:before {
        box-shadow:
          0 0 0 1px #EEE,
          0 0 0 12px rgba(#FFF, 0.5);
        }
      // Current
      &:target {
        &:before {
          box-shadow:
            0 0 10px 0 darken($color, 5%),
            0 0 0 12px $color;
          }
        &:after {
          color:$color;
          }
        }
      // Inner
      > div {
        &:before {
          position:absolute;
          top:0;
          right:0;
          bottom:0;
          left:0;
          z-index:2;
          content:'';
          }
        }
      // Cover Shout
      &.cover,
      &.shout {
        &:after {
          content:counter(slide) '/' attr(data-slides);
          }
        }
      }
    }
  // Full
  .full {
    position:absolute;
    top:50%;
    left:50%;
    overflow:hidden;
    margin:(-$height/2) 0 0 (-$width/2);
    width:$width;
    height:$height;
    background:#000;
    // Slide
    .slide {
      position:absolute;
      top:0;
      left:0;
      margin-left:150%;
      // Next
      .next {
        visibility:hidden;
        &.active {
          visibility:visible;
          }
        }
      // Current
      &:target {
        margin:0;
        }
      // Shout
      &.shout {
        &.right, &.up {
          h1, h2 {
            opacity:0;
            transition:all 0.4s ease-out;
            }
          &:target h2 {
            opacity:1;
            -webkit-transform:translateX(0) translateY(-50%);
            transform:translateX(0) translateY(-50%);
            }
          }
        &.right h2 {
          -webkit-transform:translateX(-100%) translateY(-50%);
          transform:translateX(-100%) translateY(-50%);
          }
        &.up h2 {
          -webkit-transform:translateX(0) translateY(100%);
          transform:translateX(0) translateY(100%);
          }
        }
      }
    // Progress
    .progress {
      position:absolute;
      right:0;
      bottom:0;
      left:0;
      z-index:1;
      div {
        position:absolute;
        left:0;
        bottom:0;
        width:0;
        height:8px;
        padding-left: -10px;
        background:url(../images/progress-grayDark.svg) 100% 0 no-repeat;
        -webkit-background-clip: content-box;
        background-clip: content-box;
        transition:width 0.3s linear;
        }
      }
    }

    .box.shadow {
      box-shadow: 5px 5px 15px rgba(#000, 0.25);
      border-radius: 3px;
    }


    #slide-0-0 {
      color: $grayDark;
      font-size: 70px;
      font-weight: 700;
      font: 300 50px/1.4 'Open Sans Light',sans-serif;
      //background: url(/background.png);

      h2 {
        color: white;
        //font: 600 50px/1.2 'PT Sans Narrow',sans-serif;
        font: 300 50px/1.3 'PT Sans Narrow',sans-serif;
        visibility: visible;
        display: block;
        position: relative;
        left: 0;
        right: 0;
      }

      p {
        color: $grayDark;
        margin: 10px 0 0;
        //font-style: italic;
        font-size: 20px;

        &.date {
          position: absolute;
          bottom: 30px;
          left: 30px;
          font-size: 16px;
        }
      }
    }
  }

// Print
@page {
  margin:0;
  size:$width $height;
  }
